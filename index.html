<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jadwal Kuliah & Kalender Hijriah</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
  #datetime, #datetimeHijri { font-size: 1.2em; margin-bottom: 10px; }
  .matkul-item { padding: 8px; background: white; margin-bottom: 6px; border-radius: 4px; }
  .sedang-berjalan { background-color: #c8f7c5; font-weight: bold; }
  .jam-berjalan { color: green; }
</style>
<!-- Library untuk konversi tanggal Hijriah -->
<script src="https://cdn.jsdelivr.net/npm/hijri-date/lib/hijri-date.min.js"></script>
</head>
<body>

<h1>Jadwal Kuliah Hari Ini</h1>
<div id="datetime"></div>
<div id="datetimeHijri" style="font-style: italic; color: #555;"></div>

<div id="listMatkul"></div>

<script>
  // Contoh data jadwal kuliah
  // Index 0 = Minggu, 1 = Senin, ..., 6 = Sabtu
  const jadwalKuliah = {
    1: [ // Senin
      { nama: 'Matematika', jam: '08:00 - 09:30' },
      { nama: 'Fisika', jam: '10:00 - 11:30' }
    ],
    2: [ // Selasa
      { nama: 'Kimia', jam: '09:00 - 10:30' }
    ],
    3: [], // Rabu
    4: [
      { nama: 'Biologi', jam: '13:00 - 14:30' }
    ],
    5: [
      { nama: 'Sejarah', jam: '08:00 - 09:30' }
    ],
    6: [], // Sabtu
    0: [] // Minggu
  };

  // Fungsi cek apakah sekarang jam kuliah
  function isWaktuKuliah(jamKuliah) {
    const now = new Date();
    const [startTime, endTime] = jamKuliah.split(' - ');

    const [startHour, startMinute] = startTime.split(':').map(Number);
    const [endHour, endMinute] = endTime.split(':').map(Number);

    const startDate = new Date(now);
    startDate.setHours(startHour, startMinute, 0, 0);

    const endDate = new Date(now);
    endDate.setHours(endHour, endMinute, 0, 0);

    return now >= startDate && now <= endDate;
  }

  // Update waktu Masehi dan Hijriah setiap detik
  function updateDateTime() {
    const now = new Date();
    const hari = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
    const namaHari = hari[now.getDay()];
    const tanggal = now.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' });
    const jam = now.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit', second: '2-digit' });

    document.getElementById('datetime').textContent = `${namaHari}, ${tanggal} | ${jam}`;

    // Tanggal Hijriah
    const hijriDate = new HijriDate(now);
    const namaBulanHijri = ['Muharram', 'Safar', 'Rabiul Awal', 'Rabiul Akhir', 'Jumadil Awal', 'Jumadil Akhir', 'Rajab', 'Sya\'ban', 'Ramadhan', 'Syawal', 'Dzulkaidah', 'Dzulhijjah'];
    const tanggalHijri = hijriDate.getDate();
    const bulanHijri = namaBulanHijri[hijriDate.getMonth()];
    const tahunHijri = hijriDate.getFullYear();

    document.getElementById('datetimeHijri').textContent = `Tanggal Hijriah: ${tanggalHijri} ${bulanHijri} ${tahunHijri} H`;
  }

  // Tampilkan jadwal hari ini dengan highlight jam berjalan
  function tampilkanJadwalHariIni() {
    const hariIni = new Date().getDay();
    const matkulHariIni = jadwalKuliah[hariIni] || [];
    const listMatkul = document.getElementById('listMatkul');

    listMatkul.innerHTML = '';

    if(matkulHariIni.length === 0) {
      listMatkul.innerHTML = '<p>Tidak ada jadwal kuliah hari ini.</p>';
    } else {
      matkulHariIni.forEach(matkul => {
        const div = document.createElement('div');
        div.className = 'matkul-item';

        const isBerjalan = isWaktuKuliah(matkul.jam);
        const jamParts = matkul.jam.split(' ');

        const jamHTML = isBerjalan
          ? `<span class="jam-berjalan">${jamParts[0]}</span> - <span class="jam-berjalan">${jamParts[2]}</span>`
          : matkul.jam;

        div.innerHTML = `<strong>${matkul.nama}</strong> (${jamHTML})`;

        if (isBerjalan) {
          div.classList.add('sedang-berjalan');
        }

        listMatkul.appendChild(div);
      });
    }
  }

  // Jalankan update waktu dan jadwal secara berkala
  setInterval(() => {
    updateDateTime();
    tampilkanJadwalHariIni();
  }, 1000);

  // Jalankan langsung saat load
  updateDateTime();
  tampilkanJadwalHariIni();
</script>

</body>
</html>
